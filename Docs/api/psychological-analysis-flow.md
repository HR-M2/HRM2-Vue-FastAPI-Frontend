# å¿ƒç†æ•°æ®åˆ†æå…¨æµç¨‹æŒ‡å—

> **ç‰ˆæœ¬**: v1.0  
> **æ›´æ–°æ—¥æœŸ**: 2026-01-19  
> **é€‚ç”¨å¯¹è±¡**: å‰ç«¯å¼€å‘äººå‘˜

---

## ä¸€ã€æµç¨‹æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           å¿ƒç†æ•°æ®åˆ†æå…¨æµç¨‹                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   1. é‡‡é›†     â”‚ â†’  â”‚   2. å­˜å‚¨     â”‚ â†’  â”‚   3. èšåˆ     â”‚ â†’  â”‚  4. åˆ†æ   â”‚ â”‚
â”‚  â”‚  (é¢è¯•ä¸­)     â”‚    â”‚  (å®æ—¶åŒæ­¥)   â”‚    â”‚  (é¢è¯•å®Œæˆ)   â”‚    â”‚ (æœ€ç»ˆæ¨è) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â†“                   â†“                   â†“                   â†“        â”‚
â”‚   å‰ç«¯å®æ—¶è®¡ç®—         åç«¯å­˜å‚¨           åç«¯è‡ªåŠ¨è®¡ç®—         å‰ç«¯è§¦å‘       â”‚
â”‚   å¿ƒç†è¯„åˆ†             speaker_segments   ç»Ÿè®¡æ•°æ®            Agentåˆ†æ      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äºŒã€é˜¶æ®µ1: æ•°æ®é‡‡é›†ï¼ˆé¢è¯•è¿›è¡Œä¸­ï¼‰

### 2.1 å‰ç«¯èŒè´£

å‰ç«¯åœ¨é¢è¯•è¿‡ç¨‹ä¸­éœ€è¦**å®æ—¶è®¡ç®—**æ¯æ¬¡å‘è¨€çš„å¿ƒç†è¯„åˆ†ï¼š

| è¯„åˆ†é¡¹ | è¯´æ˜ | æ•°å€¼èŒƒå›´ |
|-------|------|---------|
| big_five | å¤§äº”äººæ ¼ | å„ç»´åº¦ 0-1 |
| deception | æ¬ºéª—æ£€æµ‹ | score 0-1ï¼Œconfidence 0-1 |
| depression | æŠ‘éƒé£é™© | score 0-100ï¼Œlevel: low/medium/high |

### 2.2 æ•°æ®ç»“æ„

æ¯æ¬¡å‘è¨€éœ€è¦åŒ…å«ä»¥ä¸‹å¿ƒç†è¯„åˆ†ï¼ˆ`candidate_scores`ï¼‰ï¼š

```typescript
interface CandidateScores {
  big_five: {
    openness: number;          // å¼€æ”¾æ€§ 0-1
    conscientiousness: number; // å°½è´£æ€§ 0-1
    extraversion: number;      // å¤–å‘æ€§ 0-1
    agreeableness: number;     // å®œäººæ€§ 0-1
    neuroticism: number;       // ç¥ç»è´¨ 0-1
  };
  deception: {
    score: number;             // æ¬ºéª—åˆ†æ•° 0-1ï¼ˆè¶Šé«˜è¶Šå¯ç–‘ï¼‰
    confidence: number;        // æ£€æµ‹ç½®ä¿¡åº¦ 0-1
  };
  depression: {
    score: number;             // æŠ‘éƒåˆ†æ•° 0-100
    level: 'low' | 'medium' | 'high';  // é£é™©ç­‰çº§
    confidence: number;        // æ£€æµ‹ç½®ä¿¡åº¦ 0-1
  };
}
```

### 2.3 åŒæ­¥æ¥å£

```
POST /api/v1/immersive/{session_id}/sync
```

**è¯·æ±‚ä½“**ï¼š

```json
{
  "utterances": [
    {
      "speaker": "candidate",
      "text": "æˆ‘è®¤ä¸ºè¿™ä¸ªé¡¹ç›®çš„å…³é”®åœ¨äº...",
      "timestamp": 1768735818620,
      "candidate_scores": {
        "big_five": {
          "openness": 0.65,
          "conscientiousness": 0.72,
          "extraversion": 0.58,
          "agreeableness": 0.70,
          "neuroticism": 0.28
        },
        "deception": {
          "score": 0.15,
          "confidence": 0.85
        },
        "depression": {
          "score": 10.5,
          "level": "low",
          "confidence": 0.88
        }
      }
    }
  ]
}
```

**æ³¨æ„äº‹é¡¹**ï¼š
- `timestamp` ä¸ºæ¯«ç§’æ—¶é—´æˆ³
- é¢è¯•å®˜å‘è¨€ä¹Ÿè¦åŒæ­¥ï¼Œä½† `candidate_scores` å¯ä»¥ä¸º null
- å»ºè®®æ‰¹é‡åŒæ­¥ï¼ˆæ¯5-10æ¡å‘è¨€åŒæ­¥ä¸€æ¬¡ï¼‰

---

## ä¸‰ã€é˜¶æ®µ2: æ•°æ®å­˜å‚¨ï¼ˆåç«¯è‡ªåŠ¨ï¼‰

åç«¯æ”¶åˆ°åŒæ­¥è¯·æ±‚åï¼Œä¼šå°†æ•°æ®å­˜å‚¨åˆ° `speaker_segments` å­—æ®µï¼š

```json
{
  "speaker": "candidate",
  "text": "æˆ‘è®¤ä¸ºè¿™ä¸ªé¡¹ç›®çš„å…³é”®åœ¨äº...",
  "timestamp": 1768735818.62,
  "candidate_scores": {
    "big_five": {...},
    "deception": {...},
    "depression": {...}
  }
}
```

**å‰ç«¯æ— éœ€å…³å¿ƒæ­¤é˜¶æ®µï¼Œåç«¯è‡ªåŠ¨å¤„ç†ã€‚**

---

## å››ã€é˜¶æ®µ3: æ•°æ®èšåˆï¼ˆé¢è¯•å®Œæˆæ—¶ï¼‰

### 4.1 è§¦å‘æ–¹å¼

```
POST /api/v1/immersive/{session_id}/complete
```

### 4.2 åç«¯è‡ªåŠ¨è®¡ç®—

è°ƒç”¨æ­¤æ¥å£åï¼Œåç«¯ä¼šè‡ªåŠ¨è®¡ç®—ä»¥ä¸‹ç»Ÿè®¡æ•°æ®ï¼š

| ç»Ÿè®¡é¡¹ | è®¡ç®—æ–¹å¼ |
|-------|---------|
| å¤§äº”äººæ ¼å¹³å‡å€¼ | æ‰€æœ‰å€™é€‰äººå‘è¨€çš„å„ç»´åº¦å¹³å‡ |
| æŠ‘éƒæŒ‡æ•°å¹³å‡å€¼ | æ‰€æœ‰å€™é€‰äººå‘è¨€çš„ score å¹³å‡ |
| å‘è¨€æ¬¡æ•°å æ¯” | å€™é€‰äººå‘è¨€æ¬¡æ•° / æ€»å‘è¨€æ¬¡æ•° |
| å‘è¨€å­—æ•°å æ¯” | å€™é€‰äººæ€»å­—æ•° / æ€»å­—æ•° |

### 4.3 å­˜å‚¨ä½ç½®

ç»Ÿè®¡æ•°æ®ä¼šè‡ªåŠ¨ä¿å­˜åˆ° `final_analysis` å­—æ®µï¼Œç»“æ„å¦‚ä¸‹ï¼š

```json
{
  "session_id": "xxx",
  "statistics": {
    "utterance_count": { "total": 50, "interviewer": 22, "candidate": 28 },
    "char_count": { "total": 5000, "interviewer": 1800, "candidate": 3200 },
    "speaking_ratio": {
      "by_count": { "interviewer": 0.44, "candidate": 0.56 },
      "by_chars": { "interviewer": 0.36, "candidate": 0.64 }
    },
    "big_five_average": {
      "openness": 0.62,
      "conscientiousness": 0.71,
      "extraversion": 0.55,
      "agreeableness": 0.68,
      "neuroticism": 0.32
    },
    "depression_average": {
      "score": 12.5,
      "level": "low"
    }
  },
  "conversation_history": [...]
}
```

---

## äº”ã€é˜¶æ®µ4: AI åˆ†æï¼ˆæœ€ç»ˆæ¨èæ¨¡å—ï¼‰

### 5.1 æµç¨‹è¯´æ˜

å¿ƒç†æ•°æ®åˆ†æ**ä¸æ˜¯è‡ªåŠ¨è¿›è¡Œçš„**ï¼Œéœ€è¦å‰ç«¯åœ¨"æœ€ç»ˆæ¨è"é¡µé¢ç‚¹å‡»"ç”Ÿæˆåˆ†æ"æŒ‰é’®åè§¦å‘ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æœ€ç»ˆæ¨èé¡µé¢                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  å€™é€‰äºº: å¼ ä¸‰        å²—ä½: äº§å“ç»ç†                               â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  é¢è¯•è®°å½•æ‘˜è¦                                            â”‚   â”‚
â”‚  â”‚  - é¢è¯•æ—¶é•¿: 30åˆ†é’Ÿ                                      â”‚   â”‚
â”‚  â”‚  - å‘è¨€æ¬¡æ•°: å€™é€‰äºº 28æ¬¡ / é¢è¯•å®˜ 22æ¬¡                    â”‚   â”‚
â”‚  â”‚  - å¤§äº”äººæ ¼å¹³å‡: å¼€æ”¾æ€§ 0.62, å°½è´£æ€§ 0.71, ...            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [ğŸ“Š ç”Ÿæˆç»¼åˆåˆ†ææŠ¥å‘Š]  â† ç‚¹å‡»æ­¤æŒ‰é’®è§¦å‘ AI åˆ†æ           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 å‰ç«¯å®ç°æ­¥éª¤

#### Step 1: è·å–é¢è¯•è®°å½•

```javascript
// ä½¿ç”¨ application_id è·å–é¢è¯•è®°å½•
const response = await axios.get(
  `/api/v1/immersive/by-application/${applicationId}/record`
);

const { statistics, conversation_history } = response.data.data;

// å±•ç¤ºé¢è¯•æ‘˜è¦
displayStatistics(statistics);
```

#### Step 2: è§¦å‘ AI åˆ†æï¼ˆç”¨æˆ·ç‚¹å‡»æŒ‰é’®åï¼‰

```javascript
async function generateAnalysis(applicationId) {
  // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
  showLoading('æ­£åœ¨ç”Ÿæˆç»¼åˆåˆ†ææŠ¥å‘Šï¼Œé¢„è®¡éœ€è¦ 10-30 ç§’...');
  
  try {
    const response = await axios.post('/api/v1/analysis', {
      application_id: applicationId
    }, {
      timeout: 60000  // è®¾ç½® 60 ç§’è¶…æ—¶
    });
    
    const analysis = response.data.data;
    
    // å±•ç¤ºåˆ†æç»“æœ
    displayAnalysisReport(analysis);
    
  } catch (error) {
    showError('åˆ†æå¤±è´¥ï¼Œè¯·é‡è¯•');
  } finally {
    hideLoading();
  }
}
```

#### Step 3: å±•ç¤ºåˆ†æç»“æœ

```javascript
function displayAnalysisReport(analysis) {
  // 1. ç»¼åˆå¾—åˆ†ä¸æ¨èç­‰çº§
  console.log('ç»¼åˆå¾—åˆ†:', analysis.final_score);
  console.log('æ¨èç­‰çº§:', analysis.recommendation_level);
  console.log('æ¨èç†ç”±:', analysis.recommendation_reason);
  
  // 2. äº”ç»´åº¦è¯„ä¼°
  console.log('ç»´åº¦è¯„åˆ†:', analysis.dimension_scores);
  // { skill_match: 85, experience: 78, culture_fit: 82, growth_potential: 75, comprehensive: 80 }
  
  // 3. å¿ƒç†åˆ†æ
  const psych = analysis.input_snapshot.psychological_analysis;
  console.log('å¤§äº”äººæ ¼åˆ†æ:', psych.big_five);
  console.log('å¯ä¿¡åº¦åˆ†æ:', psych.credibility);
  console.log('æŠ‘éƒé£é™©åˆ†æ:', psych.depression);
  
  // 4. ç»¼åˆæŠ¥å‘Šï¼ˆMarkdown æ ¼å¼ï¼‰
  console.log('ç»¼åˆæŠ¥å‘Š:', analysis.report);
}
```

### 5.3 ç»¼åˆåˆ†æ API

```
POST /api/v1/analysis
```

**è¯·æ±‚ä½“**ï¼š

```json
{
  "application_id": "app-uuid"
}
```

**å“åº”**ï¼š

```json
{
  "code": 200,
  "data": {
    "id": "analysis-uuid",
    "application_id": "app-uuid",
    "final_score": 78.5,
    "recommendation_level": "recommend",
    "recommendation_reason": "æ¨èå½•ç”¨",
    "suggested_action": "å»ºè®®è¿›å…¥ä¸‹ä¸€è½®é¢è¯•",
    "dimension_scores": {
      "skill_match": 85,
      "experience": 78,
      "culture_fit": 82,
      "growth_potential": 75,
      "comprehensive": 80
    },
    "report": "# ç»¼åˆåˆ†ææŠ¥å‘Š\n\n## ä¸€ã€å€™é€‰äººæ¦‚è¿°\n...",
    "input_snapshot": {
      "position": "äº§å“ç»ç†",
      "candidate": "å¼ ä¸‰",
      "psychological_analysis": {
        "big_five": {
          "scores": { "openness": 0.62, ... },
          "personality_summary": "å¤–å‘å¼€æ”¾å‹äººæ ¼ï¼Œå–„äºæ²Ÿé€šåä½œ",
          "strengths": ["åˆ›æ–°æ€ç»´", "å›¢é˜Ÿåä½œ"],
          "potential_concerns": ["å¯èƒ½è¿‡äºä¹è§‚"],
          "work_style": "çµæ´»åˆ›æ–°å‹",
          "team_fit": "é€‚åˆè·¨éƒ¨é—¨åä½œ"
        },
        "credibility": {
          "overall_score": 0.85,
          "level": "é«˜å¯ä¿¡åº¦",
          "low_credibility_responses": [],
          "analysis": "å€™é€‰äººå›ç­”çœŸå®å¯ä¿¡ï¼Œæ— æ˜æ˜¾æ¬ºéª—è¿¹è±¡"
        },
        "depression": {
          "overall_score": 12.5,
          "level": "low",
          "level_label": "ä½é£é™©",
          "interpretation": "æƒ…ç»ªçŠ¶æ€ç¨³å®šï¼Œæ— éœ€ç‰¹åˆ«å…³æ³¨"
        }
      },
      "immersive_session_id": "session-uuid"
    }
  }
}
```

---

## å…­ã€å‰ç«¯é¡µé¢æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æœ€ç»ˆæ¨èé¡µé¢                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  1. é¡µé¢åŠ è½½æ—¶                                                       â”‚   â”‚
â”‚  â”‚     â†“                                                                â”‚   â”‚
â”‚  â”‚     æ£€æŸ¥æ˜¯å¦æœ‰å·²å®Œæˆçš„é¢è¯•è®°å½•                                         â”‚   â”‚
â”‚  â”‚     GET /api/v1/immersive/by-application/{app_id}/record             â”‚   â”‚
â”‚  â”‚     â†“                                                                â”‚   â”‚
â”‚  â”‚     â”œâ”€â”€ 404: æ˜¾ç¤º"è¯·å…ˆå®Œæˆæ²‰æµ¸å¼é¢è¯•"                                 â”‚   â”‚
â”‚  â”‚     â””â”€â”€ 200: æ˜¾ç¤ºé¢è¯•æ‘˜è¦ï¼ˆç»Ÿè®¡æ•°æ®ï¼‰                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  2. ç”¨æˆ·ç‚¹å‡»"ç”Ÿæˆç»¼åˆåˆ†æ"                                            â”‚   â”‚
â”‚  â”‚     â†“                                                                â”‚   â”‚
â”‚  â”‚     å…ˆæ£€æŸ¥æ˜¯å¦å·²æœ‰åˆ†ææŠ¥å‘Š                                            â”‚   â”‚
â”‚  â”‚     GET /api/v1/analysis?application_id={app_id}                     â”‚   â”‚
â”‚  â”‚     â†“                                                                â”‚   â”‚
â”‚  â”‚     â”œâ”€â”€ æœ‰: ç›´æ¥æ˜¾ç¤ºå·²æœ‰æŠ¥å‘Š                                          â”‚   â”‚
â”‚  â”‚     â””â”€â”€ æ— : è°ƒç”¨ POST /api/v1/analysis ç”Ÿæˆæ–°æŠ¥å‘Š                     â”‚   â”‚
â”‚  â”‚           â†“                                                          â”‚   â”‚
â”‚  â”‚           æ˜¾ç¤º Loadingï¼ˆ10-30ç§’ï¼‰                                     â”‚   â”‚
â”‚  â”‚           â†“                                                          â”‚   â”‚
â”‚  â”‚           æ˜¾ç¤ºåˆ†æç»“æœ                                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  3. ç»“æœå±•ç¤º                                                         â”‚   â”‚
â”‚  â”‚     - ç»¼åˆå¾—åˆ† + æ¨èç­‰çº§ï¼ˆå¡ç‰‡ï¼‰                                      â”‚   â”‚
â”‚  â”‚     - äº”ç»´åº¦è¯„ä¼°ï¼ˆé›·è¾¾å›¾ï¼‰                                            â”‚   â”‚
â”‚  â”‚     - å¿ƒç†åˆ†æï¼ˆå¤§äº”äººæ ¼/å¯ä¿¡åº¦/æŠ‘éƒé£é™©ï¼‰                             â”‚   â”‚
â”‚  â”‚     - ç»¼åˆæŠ¥å‘Šï¼ˆMarkdown æ¸²æŸ“ï¼‰                                       â”‚   â”‚
â”‚  â”‚     - ä¼šè¯è®°å½•ï¼ˆå¯å±•å¼€æŸ¥çœ‹è¯¦æƒ…ï¼‰                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸ƒã€å®Œæ•´ä»£ç ç¤ºä¾‹

### 7.1 Vue 3 ç»„ä»¶ç¤ºä¾‹

```vue
<template>
  <div class="final-recommendation">
    <!-- é¢è¯•è®°å½•æ‘˜è¦ -->
    <div v-if="interviewRecord" class="interview-summary">
      <h3>é¢è¯•è®°å½•æ‘˜è¦</h3>
      <div class="stats-grid">
        <div class="stat-card">
          <span class="label">é¢è¯•æ—¶é•¿</span>
          <span class="value">{{ formatDuration(interviewRecord.duration_seconds) }}</span>
        </div>
        <div class="stat-card">
          <span class="label">å‘è¨€å æ¯”</span>
          <span class="value">
            å€™é€‰äºº {{ (interviewRecord.statistics.speaking_ratio.by_chars.candidate * 100).toFixed(0) }}%
          </span>
        </div>
        <div class="stat-card">
          <span class="label">æŠ‘éƒé£é™©</span>
          <span class="value" :class="interviewRecord.statistics.depression_average.level">
            {{ interviewRecord.statistics.depression_average.level }}
          </span>
        </div>
      </div>
    </div>
    
    <!-- ç”Ÿæˆåˆ†ææŒ‰é’® -->
    <div class="action-section">
      <button 
        @click="generateAnalysis" 
        :disabled="loading"
        class="primary-btn"
      >
        {{ loading ? 'æ­£åœ¨åˆ†æä¸­...' : 'ç”Ÿæˆç»¼åˆåˆ†ææŠ¥å‘Š' }}
      </button>
    </div>
    
    <!-- åˆ†æç»“æœ -->
    <div v-if="analysisResult" class="analysis-result">
      <div class="score-card">
        <div class="score">{{ analysisResult.final_score }}</div>
        <div class="level" :class="analysisResult.recommendation_level">
          {{ getRecommendationLabel(analysisResult.recommendation_level) }}
        </div>
      </div>
      
      <!-- å¿ƒç†åˆ†æ -->
      <div class="psychological-analysis">
        <h4>å¿ƒç†åˆ†æ</h4>
        <div class="big-five-radar">
          <!-- é›·è¾¾å›¾ç»„ä»¶ -->
        </div>
        <div class="credibility">
          å¯ä¿¡åº¦: {{ analysisResult.input_snapshot.psychological_analysis.credibility.overall_score }}
        </div>
      </div>
      
      <!-- Markdown æŠ¥å‘Š -->
      <div class="report" v-html="renderMarkdown(analysisResult.report)"></div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import axios from 'axios';
import { marked } from 'marked';

const props = defineProps(['applicationId']);

const interviewRecord = ref(null);
const analysisResult = ref(null);
const loading = ref(false);

onMounted(async () => {
  await loadInterviewRecord();
});

async function loadInterviewRecord() {
  try {
    const response = await axios.get(
      `/api/v1/immersive/by-application/${props.applicationId}/record`
    );
    interviewRecord.value = response.data.data;
  } catch (error) {
    if (error.response?.status === 404) {
      // æ— é¢è¯•è®°å½•
      interviewRecord.value = null;
    }
  }
}

async function generateAnalysis() {
  loading.value = true;
  try {
    // å…ˆæ£€æŸ¥æ˜¯å¦å·²æœ‰åˆ†æ
    const checkResponse = await axios.get(
      `/api/v1/analysis?application_id=${props.applicationId}`
    );
    if (checkResponse.data.data.items?.length > 0) {
      analysisResult.value = checkResponse.data.data.items[0];
      return;
    }
    
    // ç”Ÿæˆæ–°åˆ†æ
    const response = await axios.post('/api/v1/analysis', {
      application_id: props.applicationId
    }, { timeout: 60000 });
    
    analysisResult.value = response.data.data;
  } catch (error) {
    console.error('åˆ†æå¤±è´¥:', error);
  } finally {
    loading.value = false;
  }
}

function formatDuration(seconds) {
  const mins = Math.floor(seconds / 60);
  return `${mins} åˆ†é’Ÿ`;
}

function getRecommendationLabel(level) {
  const labels = {
    strong_recommend: 'å¼ºçƒˆæ¨è',
    recommend: 'æ¨èå½•ç”¨',
    cautious: 'è°¨æ…è€ƒè™‘',
    not_recommend: 'ä¸æ¨è'
  };
  return labels[level] || level;
}

function renderMarkdown(content) {
  return marked(content || '');
}
</script>
```

---

## å…«ã€API æ¥å£æ±‡æ€»

| é˜¶æ®µ | æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|-----|------|------|------|
| é‡‡é›† | `/api/v1/immersive/{session_id}/sync` | POST | åŒæ­¥å‘è¨€æ•°æ® |
| èšåˆ | `/api/v1/immersive/{session_id}/complete` | POST | å®Œæˆé¢è¯•å¹¶è®¡ç®—ç»Ÿè®¡ |
| æŸ¥è¯¢ | `/api/v1/immersive/by-application/{app_id}/record` | GET | è·å–é¢è¯•è®°å½• |
| åˆ†æ | `/api/v1/analysis` | POST | ç”Ÿæˆç»¼åˆåˆ†ææŠ¥å‘Š |
| æŸ¥è¯¢ | `/api/v1/analysis?application_id={app_id}` | GET | æŸ¥è¯¢å·²æœ‰åˆ†ææŠ¥å‘Š |

---

## ä¹ã€å¸¸è§é—®é¢˜

### Q1: å¿ƒç†è¯„åˆ†æ˜¯å‰ç«¯è®¡ç®—è¿˜æ˜¯åç«¯è®¡ç®—ï¼Ÿ

**å‰ç«¯è®¡ç®—**ã€‚åç«¯åªè´Ÿè´£å­˜å‚¨å’Œèšåˆã€‚å‰ç«¯éœ€è¦é›†æˆå¿ƒç†åˆ†ææ¨¡å‹ï¼ˆå¦‚ TensorFlow.jsï¼‰å®æ—¶è®¡ç®—ã€‚

### Q2: ä¸ºä»€ä¹ˆè¦å‰ç«¯è®¡ç®—ï¼Ÿ

- å®æ—¶æ€§ï¼šé¢è¯•è¿‡ç¨‹ä¸­éœ€è¦å®æ—¶åé¦ˆ
- æ€§èƒ½ï¼šé¿å…å¤§é‡éŸ³è§†é¢‘æ•°æ®ä¼ è¾“åˆ°åç«¯
- éšç§ï¼šåŸå§‹éŸ³è§†é¢‘æ•°æ®ç•™åœ¨å‰ç«¯

### Q3: åˆ†ææŠ¥å‘Šç”Ÿæˆéœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ

çº¦ 10-30 ç§’ï¼Œå–å†³äºä¼šè¯è®°å½•é•¿åº¦å’Œ LLM å“åº”é€Ÿåº¦ã€‚å»ºè®®å‰ç«¯è®¾ç½® 60 ç§’è¶…æ—¶ã€‚

### Q4: å¯ä»¥å¤šæ¬¡ç”Ÿæˆåˆ†ææŠ¥å‘Šå—ï¼Ÿ

å¯ä»¥ã€‚æ¯æ¬¡è°ƒç”¨ `POST /api/v1/analysis` éƒ½ä¼šç”Ÿæˆæ–°æŠ¥å‘Šå¹¶è¦†ç›–æ—§æŠ¥å‘Šã€‚
